<div class="flex h-screen bg-[#f8fcfa] font-display text-[#0e1b13] overflow-hidden relative">

  <section class="w-64 flex-none border-r border-[#e7f3ec] bg-white flex flex-col h-full">
    <div class="p-5 border-b border-[#e7f3ec] flex items-center gap-3">
      <button (click)="goBack()" class="size-8 flex-none flex items-center justify-center rounded-full bg-white border border-gray-200 text-gray-500 hover:bg-emerald-50 hover:text-emerald-600 transition-all shadow-sm">
        <span class="material-symbols-outlined text-lg">arrow_back</span>
      </button>
      <h2 class="text-[#0e1b13] text-lg font-bold">Refund Center</h2>
    </div>
  </section>

  <section class="flex-1 flex flex-col md:flex-row h-full overflow-hidden p-8 gap-8">

    <div class="w-full md:w-1/3 bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 p-8 border border-[#e7f3ec] flex flex-col h-fit">
      <div class="mb-6">
        <div class="size-12 rounded-full bg-orange-50 text-orange-500 flex items-center justify-center mb-4"><span class="material-symbols-outlined text-2xl">currency_exchange</span></div>
        <h3 class="text-2xl font-black text-[#0e1b13] uppercase leading-none">Request Refund</h3>
        <p class="text-xs text-gray-400 font-bold mt-2">Submit details for finance review.</p>
      </div>

      <div class="space-y-4">
        <div>
          <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1">Invoice Number</label>
          <input type="text" [(ngModel)]="refundReq.invoiceNo" placeholder="e.g. INV-2025-001" class="w-full mt-1 p-4 bg-[#f8fcfa] border border-[#e7f3ec] rounded-2xl text-sm font-bold text-[#0e1b13] outline-none focus:ring-2 focus:ring-orange-200">
        </div>
        <div>
          <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1">Date of Payment</label>
          <input type="date" [(ngModel)]="refundReq.date" class="w-full mt-1 p-4 bg-[#f8fcfa] border border-[#e7f3ec] rounded-2xl text-sm font-bold text-[#0e1b13] outline-none focus:ring-2 focus:ring-orange-200">
        </div>
        <div>
          <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1">Reason for Refund</label>
          <textarea [(ngModel)]="refundReq.reason" rows="4" placeholder="Please explain why..." class="w-full mt-1 p-4 bg-[#f8fcfa] border border-[#e7f3ec] rounded-2xl text-sm font-bold text-[#0e1b13] outline-none focus:ring-2 focus:ring-orange-200 resize-none"></textarea>
        </div>
      </div>

      <button (click)="submitRefundRequest()" class="w-full mt-8 py-4 bg-[#0e1b13] text-white font-black uppercase tracking-widest rounded-2xl shadow-lg hover:bg-orange-500 transition-colors">Submit Request</button>
    </div>

    <div class="flex-1 bg-white rounded-[2.5rem] border border-[#e7f3ec] shadow-sm flex flex-col overflow-hidden">
      <div class="p-8 border-b border-[#e7f3ec]">
        <h3 class="text-xl font-black text-[#0e1b13] uppercase">Request History</h3>
      </div>
      <div class="flex-1 overflow-y-auto p-8 pt-0">
        <div class="space-y-4 mt-6">
          <div *ngFor="let item of refundHistory" class="p-6 rounded-2xl border border-[#e7f3ec] bg-[#f8fcfa] flex justify-between items-center group hover:border-orange-200 transition-colors">
            <div>
              <div class="flex items-center gap-2 mb-1">
                <span class="text-[10px] font-black bg-white px-2 py-1 rounded border border-gray-100 text-gray-500">{{ item.date }}</span>
                <span class="text-[10px] font-black text-gray-400 uppercase">INV: {{ item.invoiceNo }}</span>
              </div>
              <p class="font-bold text-[#0e1b13]">{{ item.reason }}</p>
            </div>
            <div class="text-right">
                             <span [ngClass]="{
                                'bg-emerald-100 text-emerald-700': item.status === 'Approved',
                                'bg-orange-100 text-orange-700': item.status === 'Pending',
                                'bg-red-100 text-red-700': item.status === 'Rejected'
                             }" class="px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest block mb-1 text-center">
                                {{ item.status }}
                             </span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>
</div>
