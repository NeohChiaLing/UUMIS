<div class="flex flex-col h-full bg-[#f8fcfa] font-display text-[#0e1b13] overflow-hidden relative">

  <header class="flex h-20 w-full items-center justify-between border-b border-[#e7f3ec] bg-white/80 px-8 backdrop-blur-md sticky top-0 z-10 shrink-0">
    <div class="flex items-center gap-5">
      <button (click)="goBack()" class="size-10 flex items-center justify-center rounded-full bg-white border border-gray-200 text-gray-500 hover:bg-[#e7f3ec] hover:text-[#30e87a] transition-all shadow-sm">
        <span class="material-symbols-outlined text-[20px]">arrow_back</span>
      </button>
      <div>
        <h1 class="text-2xl font-black text-[#0e1b13] tracking-tight">{{ lang.text.settings.settings }}</h1>
        <p class="text-sm text-[#4e976b] font-medium mt-0.5">Manage application preferences.</p>
      </div>
    </div>
  </header>

  <div class="flex-1 overflow-y-auto p-6 md:p-10 scroll-smooth">
    <div class="max-w-3xl mx-auto flex flex-col gap-8">

      <div class="flex flex-col gap-2 pb-2 border-b border-gray-100">
        <h2 class="text-3xl font-black text-[#0e1b13] tracking-tight">{{ lang.text.settings.title }}</h2>
        <p class="text-[#4e976b] text-sm font-medium">{{ lang.text.settings.subtitle }}</p>
      </div>

      <div class="bg-white rounded-[1.5rem] shadow-sm border border-[#e7f3ec] p-8">
        <form class="flex flex-col gap-8">

          <div>
            <h3 class="text-sm font-black text-[#0e1b13] uppercase tracking-wider mb-4">{{ lang.text.settings.interfaceLang }}</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

              <label class="relative cursor-pointer group">
                <input type="radio" name="language" value="en" [(ngModel)]="selectedLanguage" class="peer sr-only"/>
                <div class="p-5 rounded-2xl border border-gray-200 bg-white hover:bg-gray-50 peer-checked:border-[#30e87a] peer-checked:bg-green-50/30 peer-checked:ring-2 peer-checked:ring-[#30e87a] transition-all duration-200 flex items-center gap-4 h-full shadow-sm peer-checked:shadow-md">
                  <div class="size-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 flex-shrink-0 font-black text-sm border border-blue-100">EN</div>
                  <div class="flex flex-col flex-1">
                    <span class="block text-base font-bold text-[#0e1b13]">{{ lang.text.settings.english }}</span>
                    <span class="text-xs font-medium text-gray-400 mt-0.5">{{ lang.text.settings.englishSub }}</span>
                  </div>
                  <div class="text-[#30e87a] opacity-0 peer-checked:opacity-100 transition-opacity transform scale-0 peer-checked:scale-100 duration-200">
                    <span class="material-symbols-outlined text-2xl filled">check_circle</span>
                  </div>
                </div>
              </label>

              <label class="relative cursor-pointer group">
                <input type="radio" name="language" value="ms" [(ngModel)]="selectedLanguage" class="peer sr-only"/>
                <div class="p-5 rounded-2xl border border-gray-200 bg-white hover:bg-gray-50 peer-checked:border-[#30e87a] peer-checked:bg-green-50/30 peer-checked:ring-2 peer-checked:ring-[#30e87a] transition-all duration-200 flex items-center gap-4 h-full shadow-sm peer-checked:shadow-md">
                  <div class="size-12 rounded-full bg-pink-50 flex items-center justify-center text-pink-600 flex-shrink-0 font-black text-sm border border-pink-100">MS</div>
                  <div class="flex flex-col flex-1">
                    <span class="block text-base font-bold text-[#0e1b13]">{{ lang.text.settings.malay }}</span>
                    <span class="text-xs font-medium text-gray-400 mt-0.5">{{ lang.text.settings.malaySub }}</span>
                  </div>
                  <div class="text-[#30e87a] opacity-0 peer-checked:opacity-100 transition-opacity transform scale-0 peer-checked:scale-100 duration-200">
                    <span class="material-symbols-outlined text-2xl filled">check_circle</span>
                  </div>
                </div>
              </label>

            </div>
          </div>

          <div class="rounded-xl bg-blue-50/50 p-5 border border-blue-100 flex gap-4 items-start">
            <span class="material-symbols-outlined text-blue-500 mt-0.5">info</span>
            <div class="text-sm text-blue-900">
              <p class="font-bold mb-1">{{ lang.text.settings.noteTitle }}</p>
              <p class="text-blue-800/70 leading-relaxed">{{ lang.text.settings.noteBody }}</p>
            </div>
          </div>

          <div class="flex items-center justify-end gap-4 pt-6 border-t border-[#e7f3ec]">
            <button type="button" (click)="cancel()" class="px-6 py-3 rounded-xl border border-gray-200 text-xs font-bold text-gray-500 hover:bg-gray-50 hover:text-gray-900 transition-colors uppercase tracking-wider">
              {{ lang.text.settings.cancel }}
            </button>
            <button type="button" (click)="saveChanges()" class="bg-[#30e87a] text-[#0e1b13] hover:bg-[#25d366] px-8 py-3 rounded-xl text-xs font-black uppercase tracking-wider transition-all shadow-lg shadow-green-200 flex items-center gap-2 hover:scale-105 active:scale-95">
              <span class="material-symbols-outlined text-lg">save</span>
              {{ lang.text.settings.save }}
            </button>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>
